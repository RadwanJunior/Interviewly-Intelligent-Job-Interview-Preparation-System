(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[714],{285:(e,t,r)=>{"use strict";r.d(t,{$:()=>c});var a=r(5155),s=r(2115),n=r(9708),i=r(2085),o=r(9434);let l=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,t)=>{let{className:r,variant:s,size:i,asChild:c=!1,...u}=e,d=c?n.DX:"button";return(0,a.jsx)(d,{className:(0,o.cn)(l({variant:s,size:i,className:r})),ref:t,...u})});c.displayName="Button"},499:(e,t,r)=>{"use strict";r.r(t),r.d(t,{WorkflowProvider:()=>o,useWorkflow:()=>l});var a=r(5155),s=r(2115),n=r(737);let i=(0,s.createContext)(null),o=e=>{let{children:t}=e,r=(0,n.useWorkflowState)();return(0,a.jsx)(i.Provider,{value:r,children:t})},l=()=>{let e=(0,s.useContext)(i);if(!e)throw Error("useWorkflow must be used within a WorkflowProvider");return e}},737:(e,t,r)=>{"use strict";r.r(t),r.d(t,{useWorkflowState:()=>n});var a=r(2115),s=r(7192);let n=()=>{let[e,t]=(0,a.useState)(s.initialStages),[r,n]=(0,a.useState)(0),[i,o]=(0,a.useState)(s.initialResumeData),[l,c]=(0,a.useState)(s.initialJobDetailsData);return{stages:e,currentStageIndex:r,goToNextStage:()=>{r<e.length-1&&(t(e=>{let t=[...e];return t[r]={...t[r],isActive:!1},t[r+1]={...t[r+1],isActive:!0},t}),n(e=>e+1))},goToPreviousStage:()=>{r>0&&(t(e=>{let t=[...e];return t[r]={...t[r],isActive:!1},t[r-1]={...t[r-1],isActive:!0},t}),n(e=>e-1))},goToStage:a=>{a>=0&&a<e.length&&(t(e=>{let t=[...e];return t[r]={...t[r],isActive:!1},t[a]={...t[a],isActive:!0},t}),n(a))},completeCurrentStage:()=>{t(e=>{let t=[...e];return t[r]={...t[r],isCompleted:!0},t})},resumeData:i,updateResumeData:e=>{o(t=>({...t,...e}))},jobDetailsData:l,updateJobDetailsData:e=>{c(t=>({...t,...e}))}}}},806:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var a=r(5155),s=r(2115),n=r(8126),i=r.n(n),o=r(1154);let l=(0,r(9946).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var c=r(5339),u=r(285),d=r(6695),p=r(4944),m=r(7481),f=r(8653),v=r(5731),x=r(5695);let h=()=>{let{toast:e}=(0,m.dj)(),[t,r]=(0,s.useState)(!0),[n,h]=(0,s.useState)(0),[y,g]=(0,s.useState)(""),{jobDetailsData:w}=(0,f.j)(),b=(0,x.useRouter)(),j=(0,s.useRef)(!1);return(0,s.useEffect)(()=>{let t=async e=>{let t=setInterval(async()=>{try{let a=await (0,v.my)(e);"number"==typeof a.progress&&(h(a.progress),a.completed&&(r(!1),clearInterval(t)))}catch(e){console.error("Error polling status: ",e)}},2e3)};(async()=>{if(!j.current){j.current=!0;try{let r=await (0,v.Ij)({job_description_id:w.JobDescriptionId});r.session&&r.session.id?(g(r.session.id),t(r.session.id)):e({title:"Error",description:"Could not create interview session.",variant:"destructive"})}catch(t){e({title:"Error",description:"Error creating interview session: ".concat(t instanceof Error?t.message:"Unknown error"),variant:"destructive"})}finally{j.current=!1}}})()},[w,e]),(0,a.jsxs)("div",{className:"min-h-screen flex flex-col bg-gradient-to-b from-gray-50 to-white",children:[(0,a.jsxs)(i(),{children:[(0,a.jsx)("title",{children:"Prepare for Your Interview - Interviewly"}),(0,a.jsx)("meta",{name:"description",content:"Get ready for your AI-powered interview session with Interviewly."})]}),(0,a.jsx)("main",{className:"flex-grow container mx-auto px-4 py-8 mt-10",children:(0,a.jsx)("div",{className:"max-w-3xl mx-auto",children:(0,a.jsxs)(d.Zp,{className:"p-8 shadow-lg",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-primary mb-4",children:"Prepare for Your Interview"}),(0,a.jsx)("p",{className:"text-lg text-gray-600",children:"We're setting up your personalized interview based on your resume and job description."})]}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[(0,a.jsx)("span",{children:"Generating interview questions"}),(0,a.jsxs)("span",{children:[n,"%"]})]}),(0,a.jsx)(p.k,{value:n,className:"h-2"}),(0,a.jsx)("div",{className:"flex justify-center mt-4",children:t?(0,a.jsxs)("div",{className:"flex items-center text-yellow-600",children:[(0,a.jsx)(o.A,{className:"h-5 w-5 animate-spin mr-2"}),(0,a.jsx)("span",{children:"Preparing your tailored interview questions..."})]}):(0,a.jsxs)("div",{className:"flex items-center text-green-600",children:[(0,a.jsx)(l,{className:"h-5 w-5 mr-2"}),(0,a.jsx)("span",{children:"Your interview is ready!"})]})})]}),(0,a.jsxs)("div",{className:"bg-blue-50 p-6 rounded-lg mb-8",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-blue-800 mb-4",children:"Preparation Tips"}),(0,a.jsxs)("ul",{className:"space-y-3 text-blue-700",children:[(0,a.jsxs)("li",{className:"flex items-start",children:[(0,a.jsx)(l,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),(0,a.jsx)("span",{children:"Find a quiet location free from distractions."})]}),(0,a.jsxs)("li",{className:"flex items-start",children:[(0,a.jsx)(l,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),(0,a.jsx)("span",{children:"Test your microphone before starting."})]}),(0,a.jsxs)("li",{className:"flex items-start",children:[(0,a.jsx)(l,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),(0,a.jsx)("span",{children:"Keep water nearby."})]}),(0,a.jsxs)("li",{className:"flex items-start",children:[(0,a.jsx)(l,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),(0,a.jsx)("span",{children:"You have 1.5 minutes for each answer."})]}),(0,a.jsxs)("li",{className:"flex items-start",children:[(0,a.jsx)(l,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),(0,a.jsx)("span",{children:"Speak clearly and at a comfortable pace."})]})]})]}),(0,a.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg flex items-start mb-8",children:[(0,a.jsx)(c.A,{className:"h-5 w-5 text-yellow-600 mr-2 flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{className:"text-yellow-700",children:[(0,a.jsx)("p",{className:"font-medium",children:"Important:"}),(0,a.jsx)("p",{children:"Once you start the interview, you cannot pause it. Make sure you're ready."})]})]}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)(u.$,{onClick:()=>{if(t){e({title:"Please wait",description:"We're still preparing your interview questions.",variant:"destructive"});return}b.push("/interview?sessionId=".concat(y))},className:"px-8 py-3 text-lg ".concat(t?"bg-gray-400":"bg-primary hover:bg-primary/90"),disabled:t,children:t?"Preparing Questions...":"Start Interview"})})]})})})]})}},1154:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},2336:(e,t,r)=>{Promise.resolve().then(r.bind(r,806))},3655:(e,t,r)=>{"use strict";r.d(t,{hO:()=>l,sG:()=>o});var a=r(2115),s=r(7650),n=r(9708),i=r(5155),o=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let r=a.forwardRef((e,r)=>{let{asChild:a,...s}=e,o=a?n.DX:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(o,{...s,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function l(e,t){e&&s.flushSync(()=>e.dispatchEvent(t))}},4944:(e,t,r)=>{"use strict";r.d(t,{k:()=>o});var a=r(5155),s=r(2115),n=r(5863),i=r(9434);let o=s.forwardRef((e,t)=>{let{className:r,value:s,...o}=e;return(0,a.jsx)(n.bL,{ref:t,className:(0,i.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",r),...o,children:(0,a.jsx)(n.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(s||0),"%)")}})})});o.displayName=n.bL.displayName},5339:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},5731:(e,t,r)=>{"use strict";r.d(t,{$5:()=>n,Be:()=>o,EA:()=>p,FH:()=>s,I$:()=>g,Ij:()=>m,Kh:()=>b,Qp:()=>u,Uw:()=>h,ZJ:()=>d,Zr:()=>v,at:()=>x,e4:()=>y,iD:()=>i,my:()=>f,ri:()=>l,s4:()=>w,x5:()=>c});var a=r(3464);let s=a.A.create({baseURL:"http://localhost:8000",withCredentials:!0,headers:{"Content-Type":"application/json"}});async function n(e,t,r,a){return(await s.post("/auth/signup",{firstName:e,lastName:t,email:r,password:a})).data}async function i(e,t){return(await s.post("/auth/login",{email:e,password:t})).data}async function o(){try{return(await s.post("/auth/refresh",{},{withCredentials:!0})).data}catch(t){if(a.A.isAxiosError(t)){var e;console.error("Error refreshing token:",(null===(e=t.response)||void 0===e?void 0:e.data)||t.message)}else console.error("Error refreshing token:",t.message);throw t}}async function l(){await s.post("/auth/logout")}async function c(e){let t=new FormData;return t.append("file",e),(await s.post("/resumes/upload",t,{headers:{"Content-Type":"multipart/form-data"}})).data}async function u(){return(await s.get("/resumes/")).data}async function d(e){return(await s.put("/resumes/",{updated_text:e})).data}async function p(e,t,r,a,n){return(await s.post("/job_description",{job_title:e,company_name:t,location:r,job_type:a,description:n})).data}async function m(e){return(await s.post("/interview/create",e)).data}async function f(e){return(await s.get("/interview/status/".concat(e))).data}async function v(e){return(await s.get("/interview/questions/".concat(e))).data}async function x(e){let{file:t,interview_id:r,question_id:a,question_text:n,question_order:i,is_last_question:o=!1,mime_type:l="audio/webm"}=e,c=new FormData;return c.append("file",t),c.append("interview_id",r),c.append("question_id",a),c.append("question_text",n),c.append("question_order",String(i)),c.append("is_last_question",String(o)),c.append("mime_type",l),(await s.post("/audio/upload",c,{headers:{"Content-Type":"multipart/form-data"}})).data}async function h(e){return(await s.get("/audio/status/".concat(e))).data}async function y(e){return(await s.get("/audio/feedback/".concat(e))).data}async function g(){return(await s.get("/dashboard/stats")).data}async function w(){return(await s.get("/dashboard/history")).data}async function b(){try{let e=await s.get("/dashboard/active-plan");if(404===e.status)return null;return e.data}catch(t){var e;if(a.A.isAxiosError(t)&&(null===(e=t.response)||void 0===e?void 0:e.status)===404)return null;return console.error("Error fetching active plan:",t),null}}console.log("API base URL:",s.defaults.baseURL)},5863:(e,t,r)=>{"use strict";r.d(t,{C1:()=>b,bL:()=>w});var a=r(2115),s=r(6081),n=r(3655),i=r(5155),o="Progress",[l,c]=(0,s.A)(o),[u,d]=l(o),p=a.forwardRef((e,t)=>{var r,a,s,o;let{__scopeProgress:l,value:c=null,max:d,getValueLabel:p=v,...m}=e;(d||0===d)&&!y(d)&&console.error((r="".concat(d),a="Progress","Invalid prop `max` of value `".concat(r,"` supplied to `").concat(a,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(100,"`.")));let f=y(d)?d:100;null===c||g(c,f)||console.error((s="".concat(c),o="Progress","Invalid prop `value` of value `".concat(s,"` supplied to `").concat(o,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(100," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")));let w=g(c,f)?c:null,b=h(w)?p(w,f):void 0;return(0,i.jsx)(u,{scope:l,value:w,max:f,children:(0,i.jsx)(n.sG.div,{"aria-valuemax":f,"aria-valuemin":0,"aria-valuenow":h(w)?w:void 0,"aria-valuetext":b,role:"progressbar","data-state":x(w,f),"data-value":null!=w?w:void 0,"data-max":f,...m,ref:t})})});p.displayName=o;var m="ProgressIndicator",f=a.forwardRef((e,t)=>{var r;let{__scopeProgress:a,...s}=e,o=d(m,a);return(0,i.jsx)(n.sG.div,{"data-state":x(o.value,o.max),"data-value":null!==(r=o.value)&&void 0!==r?r:void 0,"data-max":o.max,...s,ref:t})});function v(e,t){return"".concat(Math.round(e/t*100),"%")}function x(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function h(e){return"number"==typeof e}function y(e){return h(e)&&!isNaN(e)&&e>0}function g(e,t){return h(e)&&!isNaN(e)&&e<=t&&e>=0}f.displayName=m;var w=p,b=f},6081:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(2115),s=r(5155);function n(e,t=[]){let r=[],i=()=>{let t=r.map(e=>a.createContext(e));return function(r){let s=r?.[e]||t;return a.useMemo(()=>({[`__scope${e}`]:{...r,[e]:s}}),[r,s])}};return i.scopeName=e,[function(t,n){let i=a.createContext(n),o=r.length;r=[...r,n];let l=t=>{let{scope:r,children:n,...l}=t,c=r?.[e]?.[o]||i,u=a.useMemo(()=>l,Object.values(l));return(0,s.jsx)(c.Provider,{value:u,children:n})};return l.displayName=t+"Provider",[l,function(r,s){let l=s?.[e]?.[o]||i,c=a.useContext(l);if(c)return c;if(void 0!==n)return n;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=r.reduce((t,{useScope:r,scopeName:a})=>{let s=r(e)[`__scope${a}`];return{...t,...s}},{});return a.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}(i,...t)]}},6695:(e,t,r)=>{"use strict";r.d(t,{BT:()=>c,Wu:()=>u,ZB:()=>l,Zp:()=>i,aR:()=>o,wL:()=>d});var a=r(5155),s=r(2115),n=r(9434);let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});i.displayName="Card";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...s})});o.displayName="CardHeader";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});l.displayName="CardTitle";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...s})});c.displayName="CardDescription";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...s})});u.displayName="CardContent";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...s})});d.displayName="CardFooter"},7192:(e,t,r)=>{"use strict";r.r(t),r.d(t,{initialJobDetailsData:()=>n,initialResumeData:()=>s,initialStages:()=>a});let a=[{id:"resume-upload",title:"Resume Upload",description:"Upload your resume or use an existing one",isCompleted:!1,isActive:!0},{id:"resume-preview",title:"Resume Preview",description:"Review and confirm your resume",isCompleted:!1,isActive:!1},{id:"job-details",title:"Job Details",description:"Enter basic information about the job",isCompleted:!1,isActive:!1}],s={file:null,text:"",hasExisting:!1,fileName:"",resumeId:""},n={userId:"",companyName:"",jobTitle:"",location:"",jobType:"Full-time",description:"",JobDescriptionId:""}},7481:(e,t,r)=>{"use strict";r.d(t,{dj:()=>p});var a=r(2115);let s=0,n=new Map,i=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),u({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?i(r):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],c={toasts:[]};function u(e){c=o(c,e),l.forEach(e=>{e(c)})}function d(e){let{...t}=e,r=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>u({type:"DISMISS_TOAST",toastId:r});return u({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||a()}}}),{id:r,dismiss:a,update:e=>u({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function p(){let[e,t]=a.useState(c);return a.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:d,dismiss:e=>u({type:"DISMISS_TOAST",toastId:e})}}},8126:(e,t)=>{"use strict";function r(){return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8653:(e,t,r)=>{"use strict";r.d(t,{j:()=>a.useWorkflow});var a=r(499);r(737),r(7192)},9434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var a=r(2596),s=r(9688);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}},9946:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var a=r(2115);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:c="",children:u,iconNode:d,...p}=e;return(0,a.createElement)("svg",{ref:t,...i,width:s,height:s,stroke:r,strokeWidth:l?24*Number(o)/Number(s):o,className:n("lucide",c),...p},[...d.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),l=(e,t)=>{let r=(0,a.forwardRef)((r,i)=>{let{className:l,...c}=r;return(0,a.createElement)(o,{ref:i,iconNode:t,className:n("lucide-".concat(s(e)),l),...c})});return r.displayName="".concat(e),r}}},e=>{var t=t=>e(e.s=t);e.O(0,[794,352,441,684,358],()=>t(2336)),_N_E=e.O()}]);